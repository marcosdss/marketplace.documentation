---
slug: release-20240308
authors: [mateus]
tags: [spike]
---

# Spike - LIONS 311

### Função de "Voltar" em cada etapa de página acessada

### 1. Introdução

O objetivo é permitir que o cliente volte para a página anterior acessada.

### 2. Solução

#### 2.1 Componente Customizado

Um componente customizado será criado para possibilitar o retorno à página anterior.

#### 2.2 Propriedade de URL Única

Adição de uma propriedade que permita especificar uma URL única para onde o usuário será redirecionado.

### 3. Diretrizes para o Desenvolvimento

Utilizaremos o hook `useRuntime()` fornecido pela VTEX, que inclui o histórico de navegação (`history`) com a função `goBack()` para retornar à página anterior.

Exemplo de implementação do componente customizado:

```javascript
import React from 'react'
import { useRuntime } from 'vtex.render-runtime'

function MyComponent() {
  const { history } = useRuntime()

  const handleClick = () => {
    history.goBack()
  }

  return <button onClick={handleClick}>Voltar</button>
}

export default MyComponent
```

Embora exista a função history.back() de forma nativa do navegador, é importante notar que ela recarrega a página, o que pode não ser intuitivo para o usuário em uma aplicação de página única (SPA).

Outra opção é usar a propriedade de navegação (navigation) disponível em algumas bibliotecas, como o React Navigation, que fornece o método goBack() para voltar à tela anterior:

```javascript

function ProfileScreen({ navigation: { goBack } }) {
  return (
    <View>
      <Button onPress={() => goBack()} title="Voltar" />
    </View>
  );
}

```

O bloco de link de retorno pode ser usado tanto para um link único quanto para voltar à página anterior.

Na Store os seguintes blocos localizados:
- `link#template-4-back-button`
- `link#back-to-page-recipe-template`
- `link#back-to-page-template03`

**:memo: Links úteis:**
- [Render Runtime](https://github.com/vtex-apps/render-runtime?tab=readme-ov-file#history)
- [Método back() do objeto History](https://developer.mozilla.org/en-US/docs/Web/API/History/back)
- [Documentação da propriedade navigation](https://reactnavigation.org/docs/navigation-prop/)
