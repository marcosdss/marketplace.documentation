---
slug: release-20240327
authors: [mateus]
tags: [spike]
---

# Spike - LIONS 350

### Interação de compra por vídeo

### 1. Introdução

O objetivo é permitir usuário interagir com video, onde o mesmo pode escolher qual produto foi exibido no video.

### 2. Solução

#### 2.1 Utilizando Plataforma de Video externo

Uma opção viável é utilizar a plataforma Vimeo, que oferece recurso de vídeo interativo. Para implementar essa solução, será necessário entrar em contato com a equipe de vendas do Vimeo para obter acesso à ferramenta.

[Vimeo - Solicitar uma demonstração](https://vimeo.com/pt-br/features/interactive-video)

#### 2.2 Criando componente customizado de interação de video

Outra abordagem é criar um componente custom de interação de vídeo. Isso pode ser feito utilizando bibliotecas externas de players de vídeo, onde o vídeo pode ser hospedado em plataformas como Vimeo ou em um servidor próprio. A partir disso, será desenvolvido um componente customizado capaz de permitir a interação do usuário com o vídeo e a seleção dos produtos.

:::note
Durante o desenvolvimento custom, é importante notar que a complexidade é relativamente alta, pois requer todas as informações do vídeo, incluindo seu tempo de duração, diferentes vídeos para cada interação e a capacidade de recarregar dinamicamente o vídeo,  mostrando a opção selecionada de forma dinâmica pela pessoa.
:::

### 3. Diretrizes para o Desenvolvimento

Exemplo de uso com a biblioteca ``react-player``

```javascript
import ReactPlayer from 'react-player';

const InteractiveVideo = () => {
  return (
    <ReactPlayer
      url="https://vimeo.com/90509568"
      className="react-player"
      playing
      width="100%"
      height="100%"
    />
  );
};

export default InteractiveVideo;
```

Outro exemplo com a biblioteca ``video-react``

```javascript
import React from 'react';
import { Player } from 'video-react';

export default props => {
  return (
    <Player
      playsInline
      poster="/assets/poster.png"
      src="https://media.w3.org/2010/05/sintel/trailer_hd.mp4"
    />
  );
};
```

Um exemplo prático

```javascript
import React, { useState, useEffect } from 'react';
import ReactPlayer from 'react-player';

// Componente para vídeo interativo
const InteractiveVideo = () => {
  const [selectedProduct, setSelectedProduct] = useState(null); // Estado para rastrear produto selecionado
  const [currentTime, setCurrentTime] = useState(0); // Estado para rastrear o tempo atual do vídeo

  // Função para lidar com a seleção de produtos
  const handleProductSelection = (product) => {
    setSelectedProduct(product);
    // Você pode adicionar lógica aqui para executar ações com base no produto selecionado
  };

  return (
    <div className="Interactive-video-container">
      <ReactPlayer
        url="https://vimeo.com/90509568"
        className="react-player"
        playing
        width="100%"
        height="100%"
      />
      {/* Exibir produtos para seleção */}
      <div className="product-selection">
        <button onClick={() => handleProductSelection('banana')}>Banana</button>
        <button onClick={() => handleProductSelection('manga')}>Manga</button>
      </div>
    </div>
  );
};

export default InteractiveVideo;
```

Parte técnica para desenvolvimento:
- Os botões ou cliques na tela serão feitos através de um elemento que se sobrepõe ao vídeo, possibilitando a interação/clique. Com base no clique, o vídeo deverá alterar-se conforme a escolha do usuário.

:::note
É importante verificar se a biblioteca que está sendo utilizada oferece funções de callback para controlar o video, como por exemplo: obter o tempo do vídeo e alternar entre diferentes momentos e durações, etc...
:::


**:memo: Links úteis:**
- [Vimeo - Solicitar uma demonstração](https://vimeo.com/pt-br/features/interactive-video)
- [Biblioteca ReactPlayer](https://www.npmjs.com/package/react-player)
- [Biblioteca Video-React](https://video-react.js.org/)
