---
slug: release-20240416
authors: [mateus]
tags: [spike]
---

# Spike - LIONS 328

## Formulário de cadastro | Padronização site e-commerce e institucional

## 1. Introdução

Este é um estudo de padronização do cabeçalho do formulário de cadastro, bem como das páginas `/login-cadastro`, formulário e pop-up de login, códigos de acesso, recuperação de senha, criação de nova senha e confirmação.

## 2. Solução

### 2.1 Customização da Página de Login-Cadastro

A página `/login-cadastro` é totalmente viável para customização.

- Desenvolvimento de componente customizado
- Para fins de teste, foi criado um componente customizado simples sem estilização. A customização da página seguindo o design do Figma é viável.

### 2.2 Pop-up de Boas-Vindas na Página Institucional

O desenvolvimento do pop-up na página institucional é viável, mas é necessário criar um componente customizado para "Entrar ou cadastrar-se", separado do já existente no e-commerce. Apesar de ambos serem iguais, a funcionalidade do pop-up na página institucional pode apontar para o e-commerce.

Sugestões:

- Desenvolver um componente customizado para "Entrar ou cadastrar-se"
- Utilizar o componente do e-commerce ([ObaHortifrutiDeveloper/oba.user-registration](https://github.com/ObaHortifrutiDeveloper/oba.user-registration/blob/fbcb4d861e97f7daaafc108595336481503c30ce/react/components/LinkToRegistrationPage)) para adicionar a funcionalidade do pop-up
- Manter as mesmas características do e-commerce
- Desenvolver um pop-up customizado

### 2.3 Pop-ups de Login, Recuperar Senha, Criar Nova Senha e Código de Acesso na Página Institucional

A parte de desenvolvimento customizado dos pop-ups, bem como a estilização, é viável. No entanto, para que a funcionalidade funcione, é necessário compreender como funciona a autenticação do usuário, recuperação de senha, criação de nova senha e código de acesso por parte da VTEX.

:::danger
Para o desenvolvimento e personalização da autenticação do usuário, é necessário realizar uma análise de viabilidade junto à VTEX. Não foi encontrada na documentação de API disponibilizada pela VTEX a possibilidade de autenticar usuários ou outras APIs para recuperação de senha, criação de nova senha e código de acesso. Essas funcionalidades envolvem questões de segurança.
:::

Observação:

:::note
Atualmente, é possível customizar o `/cadastro`, pois temos um repositório onde essa customização foi implementada.
:::

## 3. Diretrizes para o Desenvolvimento

Para desenvolver o componente "Entrar ou cadastrar-se" na página institucional, devemos seguir as seguintes diretrizes:

## 3.1 Customização do /login-cadastro

Podemos encontrar o seguinte bloco na store: `store\blocks\pages\login-cadastro\index.jsonc`,

```jsonc
"flex-layout.row#page-login-cadatro": {
  "children": ["login-custom"],
  "props": {
    "blockClass": ["cadastro-page"]
  }
},
```

Example de componente customizado sem estilização:

```js
import React from 'react'

const LoginCustom = () => {
  return (
    <>
    <div>fazer login</div>
    <div>cadastra-se</div>
    </>
  )
}

export default LoginCustom
```

## 3.1 Customização do Pop-up de Boas-Vindas na Página Institucional

Podemos encontrar o seguinte bloco na store: `store\blocks\layout\HeaderInstitutional\index.jsonc`,

```jsonc
"flex-layout.col#col-header-support": {
  "title": "Login & CBQ",
  "children": ["login-header-custom", "image#logo-bem-querer"],
  "props": {
    "blockClass": "col-header-support"
  }
},
```
Aqui criamos o componente customizado `loginHeaderCustom.tsx` <br />
**Exemplo:**

```js
<div className={`${handles.loginContainerDesktop}`}>
  <button onClick={handleOpenModal}>
    <div className="flex items-center">
      <UserIconGreen className={`${handles.loginUserIcon} mr3`} />

      <div className={`${handles.loginLink} pl2`}>
        Bem-vindo <br /> <strong>Entre ou Cadastre-se</strong>
      </div>
    </div>
  </button>
  {modalOpen && (
    <div
      style={{
        position: 'fixed',
        top: 0,
        left: 0,
        width: '100%',
        height: '100%',
        background: 'rgba(0, 0, 0, 0.5)',
        display: 'flex',
        justifyContent: 'center',
        alignItems: 'center',
        zIndex: 999,
      }}
      onClick={handleCloseModal}
    >
      <div
        style={{
          background: '#fff',
          padding: '1rem',
          borderRadius: '0.5rem',
        }}
        onClick={(e) => e.stopPropagation()}
      >
          <div>Aqui colocamos informações no modal quando aberto.</div>
      </div>
    </div>
  )}
</div>
```

**:memo: Links úteis:**
- [ObaHortifrutiDeveloper/oba.user-registration](https://github.com/ObaHortifrutiDeveloper/oba.user-registration/blob/fbcb4d861e97f7daaafc108595336481503c30ce/react/components/LinkToRegistrationPage)
- [API Reference](https://developers.vtex.com/docs/api-reference) <br/>
